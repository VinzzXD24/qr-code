<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Text & Image to QR</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen flex flex-col">
  <header class="p-4 flex justify-between items-center bg-white dark:bg-gray-800 shadow">
    <h1 class="text-xl font-bold">QR Code Pro</h1>
    <button id="theme-toggle" class="p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600">
      🌙
    </button>
  </header>

  <main class="flex-grow container mx-auto p-6">
    <div class="max-w-xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-lg overflow-hidden">
      <!-- Tab Buttons -->
      <div class="flex">
        <button id="tab-text" class="flex-1 py-3 font-semibold text-center border-b-2 border-teal-500">Text</button>
        <button id="tab-image" class="flex-1 py-3 font-semibold text-center border-b-2 border-transparent hover:border-teal-500 transition">Image</button>
      </div>
      <!-- Content -->
      <div class="p-6 space-y-6">
        <!-- Text Tab -->
        <div id="content-text">
          <input id="textInput" type="text" placeholder="Enter your text..." class="w-full p-3 border rounded-lg focus:outline-teal-500"/>
          <button onclick="generateTextQR()" class="w-full py-3 bg-teal-500 hover:bg-teal-600 rounded-lg text-white font-semibold transition">Generate Text QR</button>
          <div id="textQR" class="mt-4 flex justify-center"></div>
        </div>
        <!-- Image Tab -->
        <div id="content-image" class="hidden">
          <input id="imgInput" type="file" accept="image/*" class="w-full p-3 border rounded-lg"/>
          <button onclick="generateImageQR()" class="w-full py-3 bg-teal-500 hover:bg-teal-600 rounded-lg text-white font-semibold transition">Generate Image QR</button>
          <div id="imgQR" class="mt-4 flex justify-center"></div>
        </div>
      </div>
    </div>
  </main>

  <!-- QRCode.js dari CDN -->
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
  <script>
    // theme toggle
    document.getElementById('theme-toggle')
      .addEventListener('click', () => {
        document.documentElement.classList.toggle('dark');
        const btn = event.currentTarget;
        btn.textContent = document.documentElement.classList.contains('dark') ? '☀️' : '🌙';
      });

    // tab switching
    const tabText = document.getElementById('tab-text'),
          tabImage = document.getElementById('tab-image'),
          contentText = document.getElementById('content-text'),
          contentImage = document.getElementById('content-image');

    tabText.addEventListener('click', () => {
      tabText.classList.add('border-teal-500');
      tabImage.classList.remove('border-teal-500');
      contentText.classList.remove('hidden');
      contentImage.classList.add('hidden');
    });
    tabImage.addEventListener('click', () => {
      tabImage.classList.add('border-teal-500');
      tabText.classList.remove('border-teal-500');
      contentImage.classList.remove('hidden');
      contentText.classList.add('hidden');
    });

    // QR generators
    function clearQR(el) {
      el.innerHTML = '';
    }
    function generateTextQR() {
      const text = document.getElementById('textInput').value.trim();
      const box = document.getElementById('textQR');
      clearQR(box);
      if (!text) return alert('Please enter some text!');
      new QRCode(box, { text, width: 200, height: 200 });
    }
    function generateImageQR() {
      const file = document.getElementById('imgInput').files[0];
      const box = document.getElementById('imgQR');
      clearQR(box);
      if (!file) return alert('Please choose an image!');
      const reader = new FileReader();
      reader.onload = e => new QRCode(box, { text: e.target.result, width: 200, height: 200 });
      reader.readAsDataURL(file);
    }
  </script>
</body>
</html>
